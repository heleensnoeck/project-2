<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="utf-8"> <!-- als er een spatie tussen de utf 8 staat dan moeten er quots om heen -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/assets/animate.css">

    <link href='https://fonts.googleapis.com/css?family=Bitter:400,400italic,700' rel='stylesheet' type='text/css'>
<!--     <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,500,600,700' rel='stylesheet' type='text/css'>
 -->
    <title>lifely</title>
</head>


<body>
    <main>
        <section class="header block">  
            <div class="intro">
                <h1>Advies raport lifely</h1>
                <p><strong>preformance matters, 5 new improvements<br/>
                Scroll down to discover different ways to do it</strong></p>
            </div>

            <div class="scroll-down">
               <span class="dot"></span>
            </div>
        </section>


        <article class="block">
            <h1>1. Folder structure</h1>
            
            <p>It may seem like this is not an importend part of performance, but it is. If you dont have the right folder structure you dont see were things are going and you will, write to much css or repeat yourself.<br />
            <br />
            <strong>How do you set up the right folder structure?</strong><br />
            <br />
            <strong>Pssst..</strong> you cann open the folders to see more structure
            </p>

            <section class="folders">
                <article class="folders-left">
                    <form>
                      <h1>Bundlin</h1>
                      <div class="tree">

                        <label class="open" for="n-1">src</label>
                      
                          <section class="right">

                              <div>
                                <input id="n-2" type="checkbox">
                                <label for="n-2">scripts</label>
                                <div class="sub">
                                  <input id="n-2-0" type="checkbox">
                                  <label for="n-2-0">config</label>
                                  <input id="n-2-0" type="checkbox">
                                  <label for="n-2-0">controlers</label>
                                  <a href="#link">app.js</a>
                                </div>
                              </div> 

                              <div>
                                <input id="n-3" type="checkbox">
                                <label for="n-3">statics</label>
                                <div class="sub">
                                  <input id="n-3-0" type="checkbox">
                                  <label for="n-3-0">api</label>
                                  <input id="n-3-0" type="checkbox">
                                  <label for="n-3-0">favicons</label>
                                  <input id="n-3-0" type="checkbox">
                                  <label for="n-3-0">fonts</label>
                                  <a href="#link">browserconfig.xml</a>
                                  <a href="#link">index.html</a>
                                </div>
                              </div>
                              
                              <div>
                                <input id="n-4" type="checkbox">
                                <label for="n-4">styles</label>
                                <div class="sub">
                                  <input id="n-4-0" type="checkbox">
                                  <label for="n-4-0">components</label>
                                  <input id="n-4-0" type="checkbox">
                                  <label for="n-4-0">dependencies</label>
                                  <input id="n-4-0" type="checkbox">
                                  <label for="n-4-0">directives</label>
                                  <input id="n-4-0" type="checkbox">
                                  <label for="n-4-0">fonts</label>
                                  <input id="n-4-0" type="checkbox">
                                  <label for="n-4-0">mixins</label>
                                </div>
                              </div>
                              
                            <!-- gebruiken twee keer een font folder -->

                              <div>
                                <input id="n-5" type="checkbox">
                                <label for="n-5">vendor</label>
                                <div class="sub">
                                  <input id="n-5-0" type="checkbox">
                                  <label for="n-5-0">angular</label>
                                </div>
                              </div>
                              
                              <!-- vendor staat onder js bij tamtam -->

                              <div>
                                <input id="n-6" type="checkbox">
                                <label for="n-6">tests</label>
                                <div class="sub">
                                  <div>
                                    <input id="n-6-0" type="checkbox">
                                    <label for="n-6-0">scripts</label>
                                  </div> <!-- sluit div onde sub af -->
                                </div> 

                      </section> <!-- sluit section right -->
                    </div> <!-- sluit tree div af -->
                  </form>
            </article>
                
                <article class="folders-right">
                    <form>
                      <h1>could do</h1>
                      <div class="tree">

                        <label class="open" for="n-10">frontend</label>
                      
                          <section class="right">
                              <div>
                                <input id="n-11" type="checkbox">
                                <label for="n-11">fonts</label>
                              </div>
                              
                              <div>
                                <input id="n-12" type="checkbox">
                                <label for="n-12">html</label>
                              </div>
                              
                              <div>
                                <input id="n-13" type="checkbox">
                                <label for="n-13">images</label>
                              </div>
                              
                              <div>
                                <input id="n-14" type="checkbox">
                                <label for="n-14">js</label>
                                <div class="sub">
                                  <div>
                                    <input id="n-14-0" type="checkbox">
                                    <label for="n-14-0">angular</label>
                                    <input id="n-14-0" type="checkbox">
                                    <label for="n-14-0">browserify</label>
                                    <input id="n-14-0" type="checkbox">
                                    <label for="n-14-0">vendor</label>
                                  </div> <!-- sluit div onde sub af -->
                                </div> <!-- sluit sub1e -->
                              </div> <!-- container div -->
                              
                              <div>
                                <input id="n-15" type="checkbox">
                                <label for="n-15">sass</label>
                                <div class="sub">
                                  <div>
                                    <input id="n-15-0" type="checkbox">
                                    <label for="n-15-0">base</label>
                                    <div class="sub">
                                        <a href="#link">_functions.scss</a>
                                        <a href="#link">_general.scss</a>
                                        <a href="#link">_grid.scss</a>
                                        <a href="#link">_mixins.scss</a>
                                        <a href="#link">_nomalize.scss</a>
                                        <a href="#link">_typography.scss</a>
                                        <a href="#link">_general.scss</a>
                                        <a href="#link">_vars.scss</a>
                                    </div> <!-- sluit sub2e -->
                                  </div> <!-- sluit div onde sub af -->
                                </div> <!-- sluit sub1e -->
                              </div> <!-- container div -->

                              <div>
                                <input id="n-16" type="checkbox">
                                <label for="n-16">components</label>
                                <div class="sub">
                                  <div>
                                    <input id="n-16-0" type="checkbox">
                                    <label for="n-16-0">form-components</label>
                                    <div class="sub">
                                      <a href="#link">_buttons.scss</a>
                                      <a href="#link">_form.scss</a>
                                      <a href="#link">_lists.scss</a>
                                      <a href="#link">_loaders.scss</a>
                                    </div> <!-- sluit sub2e -->
                                    <div>
                                      <input id="n-16" type="checkbox">
                                      <label for="n-16">modules</label>
                                      <div class="sub">
                                        <a href="#link">_buttons.scss</a>
                                        <a href="#link">_form.scss</a>
                                        <a href="#link">_lists.scss</a>
                                        <a href="#link">_loaders.scss</a>
                                      </div>
                                    </div>
                                    <div>
                                      <input id="n-16" type="checkbox">
                                      <label for="n-16">vendor</label>
                                      <div class="sub">
                                        <a href="#link">_animations.scss</a>
                                      </div>
                                    </div>
                                  </div> <!-- sluit div onde sub af -->
                                </div> <!-- sluit sub1e -->
                              </div> <!-- container div -->
                            </section> <!-- sluit section right -->
                        </div> <!-- sluit tree div af -->
                    </form>
                </article>

                <section class="clear">
                  <p><strong>What is going wrong?</strong><br/>
                     Well it is save to say that the right has much more structure then the left folders. When you take a look inside the folders you will nothist that Bundlin has a lot of components. And no base like the folder on the right. If you write one base and then build some components (nav, footer, ect.) you have much more structure and you dont need a css file for everything. 

                     Then make sure you place all the Javascript stuff in the JS folder. Vendor = Javascript. 
                     This also counts for the fonts, now fonts are in styles and static.
                  </p>
                  <p><strong>Why it is importent!</strong></p>
                  <ul>
                    <li>It is easier for you and your team to find stuff</li>
                    <li>You are a lot faster if you have to make adjustments</li>
                    <li>You dont write css styles dubble</li>
                  </ul>
                </section>   
            </article> <!-- close folders section -->

        <article class="block">
            <h1>
                What does google say about Bundlin?
            </h1>
            <section class="ul-left">
              <ul>
                <li>Javascript en css above the fold rendering not enabled</li>
                <li>Make use of browser cashing</li>
                <li>Make use of image optimalisation</li>
              </ul> 
            </section>
            <section class="link">
              <h2>Bron: <a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank">developers.google.com</a></h2>
            </section>
        </article>
      
        <article class="block">
            <h1>Lets talk about css above the fold</h1>
            
            <section>
              <p>You guys load <strong>8404</strong> lines of css in. This is render blocking. Not al of the css is nessesery (for the first page). I would recomend to you guys to start using critical css. This is css above the fold. How to do this. A little start -> up</p>     

              <figure class="img">
                  <figcaption>                  
                    <h2>Critical</h2>
                    <hr>
                    <h2>Non critical</h2>
                  </figcaption>
                <img src="img/critical.png" alt="bundlin">
              </figure>

              <p>You need two files. For the first file we extract only the minimum set of css required to render the above the fold content, and then we inline it in the web page. For the second file, or the non-critical css, we asynchronously load it so as not to block the web page.</p>

              <section class="code-wrapper">
                <textarea>
                <!DOCTYPE html>
                <html>
                <head>
                  style /* inlined critical CSS */ style
                  script loadCSS('non-critical.css'); script
                </head>
                <body>
                  ...body goes here
                </body>
                </html> 
                </textarea>
              </section>

              <p>This may seem like a lot of work to do by hand. But there are tools. For more info see:</p> 
                
              <section class="link">  
                <h2>Bron: <a href="https://www.smashingmagazine.com/2015/08/understanding-critical-css/" target="_blank">smashingmagazine.com</a></h2>
              </section>
          </section>
        </article>
        
        <article class="block">
            <h1>Make use of a server worker.</h1> 
            <p>A service worker is handy for <strong>2</strong> things</p>

            <section>
              <ul class="ul-left">
                <li>offline applications</li>
                <li>preformance</li>
              </ul>
            </section>
      
            <p><strong>But witch files to load?</strong><br/>
            You dont want to make mobile users upset with there monthly bill</p>  

            <section class="code-wrapper-sw">
              <textarea>
                this.addEventListener('install', function(event) { 
                  event.waitUntil(
                    caches.open('bundlin-serviceworker').then(function(cache) {
                      return cache.addAll([
                        './index.html',
                        './css/app.css',
                        './css/vendor.css',
                        './js/app.js',
                        './js/vendor.js',
                        './images/*.jpg',
                        './images/*.png'
                      ]);
                    })
                  );
                });
              </textarea>
            </section>          
            <p>as you can see in the code example above those files are the files to keep in mind.  
            <br/>
            <br/>
            Service workers are relative new, so if you have no idea how it works, check out this link:</p>  
            <section class="link">  
              <h2>Bron: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank">developer.mozilla.org</a></h2>
            </section>        
        </article>

        <article class="block">
          <h1>Image Optimalisation</h1>

          <p> I see that you guys have a lot of images in your site. It is importent that you optimise these. This you do with build scrips as you guys already know.. but i nothist Lifley uses Grunt and not Gulp. Gulp is a lot faster dan Grunt</p>
          <div class="options"> <a href="#" class="show_snippet"><strong class="i">i</strong></a></div>
          <p class="top">, so i would recomend to use Gulp. Image optimalisation in Gulp would look like this.</p>          

         <section class="snippet">
             <header>
               <a href="#" class="close">X</a>
             </header>
            
            <section class="content">
            <textarea class="textarea_text">
Grunt vs gulp

Similarities

The way they config a task Grunt is configuration-based en gulp is stream based.
The way they execute a task. Grunt runs the processes you want to run task after task. And gulp tries to run the process parallel (at the same time) witch is much faster.

            </textarea>


            <textarea class="textarea_gulp">
Example Grunt Configuration

module.exports = function(grunt) {
require('time-grunt')(grunt);
grunt.initConfig({
  pkg: grunt.file.readJSON('package.json'),
  concat_css: {
    dist: {
      src: ['src/*.css'],
      dest: 'css/styles.css'
    }
  },
  cssmin: {
    target: {
      files: [{
        'css/styles.min.css': 
        ['css/styles.css']
      }]
    }
  }
});
grunt.loadNpmTasks('grunt-concat-css');
grunt.loadNpmTasks('grunt-contrib-cssmin');
grunt.registerTask('default', ['concat_css', 'cssmin']);
}

            </textarea>

            <textarea class="textarea_gulp">
Example Gulp Configuration

module.exports = function(grunt) {
var gulp = require('gulp');
var concatenate = require('gulp-concat-css');
var minify = require('gulp-cssmin');
var duration = require('gulp-duration');

gulp.task('default', function() {
  gulp.src('src/*.css')
  .pipe(concatenate('styles.min.css'))
  .pipe(minify())
  .pipe(duration('Execution Time: '))
  .pipe(gulp.dest('css/'));
});

          </textarea>
        </section>
      </section>
      
      <div class="overlay hide"></div>

      <section class="code-wrapper">
        <textarea>
          var gulp = require('gulp');
          var imagemin = require('gulp-imagemin'),

          gulp.task('image', function() {
              gulp.src('public/images/*')
              .pipe(imagemin({
                  progressive: true
              }))
              .pipe(gulp.dest('public/build/img'));
          });
          </textarea>
      </section>
    </article>
</main>

    <script src="js/jquery.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>